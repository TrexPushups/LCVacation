{"ast":null,"code":"import { HttpHeaders } from \"@angular/common/http\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nexport class EmployeeService {\n  constructor(http, baseUrl) {\n    this.employees = [];\n    this.httpOptions = {\n      headers: new HttpHeaders({\n        'ContentType': 'application/json'\n      })\n    };\n    this.http = http;\n    this.baseUrl = baseUrl;\n  }\n  ngOnInit() {\n    const apiURL = this.baseUrl + 'Employee';\n    this.http.get(apiURL, {}).subscribe(data => this.employees = data).add(console.log(this.employees));\n  }\n  getEmployees() {\n    const apiURL = this.baseUrl + 'Employee';\n    return this.http.get(apiURL).subscribe(emps => {\n      console.log(emps);\n      this.employees = emps;\n      return this.employees;\n    });\n  }\n  work(days, id) {\n    this.http.post(this.baseUrl + 'Employee' + '\\\\Work', {\n      days: days,\n      id: id\n    }).subscribe(result => {\n      this.employees = result;\n    }, error => console.error(error));\n    return this.employees;\n  }\n  vacation(days, id) {\n    this.http.post(this.baseUrl + 'Employee' + '\\\\TakeVacation', {\n      days: days,\n      id: id\n    }).subscribe(result => {\n      this.employees = result;\n    }, error => console.error(error));\n    return this.employees;\n  }\n}\nEmployeeService.ɵfac = function EmployeeService_Factory(t) {\n  return new (t || EmployeeService)(i0.ɵɵinject(i1.HttpClient), i0.ɵɵinject('BASE_URL'));\n};\nEmployeeService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: EmployeeService,\n  factory: EmployeeService.ɵfac,\n  providedIn: 'root'\n});","map":{"version":3,"mappings":"AAAA,SAAqBA,WAAW,QAAQ,sBAAsB;;;AAW9D,OAAM,MAAOC,eAAe;EAS1BC,YAAYC,IAAgB,EAAsBC,OAAe;IAPjE,cAAS,GAAe,EAAE;IAG1B,gBAAW,GAAG;MACXC,OAAO,EAAE,IAAIL,WAAW,CAAC;QAAC,aAAa,EAAE;MAAkB,CAAC;KAC9D;IAGC,IAAI,CAACG,IAAI,GAAGA,IAAI;IAChB,IAAI,CAACC,OAAO,GAAGA,OAAO;EAExB;EAEAE,QAAQ;IACN,MAAMC,MAAM,GAAG,IAAI,CAACH,OAAO,GAAG,UAAU;IACzC,IAAI,CAACD,IAAI,CACLK,GAAG,CAAaD,MAAM,EAAE,EAAE,CAAC,CAC5BE,SAAS,CAACC,IAAI,IAAI,IAAI,CAACC,SAAS,GAAGD,IAAI,CAAC,CACxCE,GAAG,CACFC,OAAO,CAACC,GAAG,CAAC,IAAI,CAACH,SAAS,CAAC,CAC3B;EACL;EAEAI,YAAY;IAEV,MAAMR,MAAM,GAAG,IAAI,CAACH,OAAO,GAAG,UAAU;IACxC,OAAQ,IAAI,CAACD,IAAI,CAACK,GAAG,CAAaD,MAAM,CAAC,CAACE,SAAS,CAAEO,IAAgB,IAAI;MACvEH,OAAO,CAACC,GAAG,CAACE,IAAI,CAAC;MACjB,IAAI,CAACL,SAAS,GAAGK,IAAI;MACrB,OAAO,IAAI,CAACL,SAAS;IACvB,CAAC,CAAC;EAGJ;EAIAM,IAAI,CAACC,IAAY,EAAEC,EAAU;IAC3B,IAAI,CAAChB,IAAI,CAACiB,IAAI,CAAa,IAAI,CAAChB,OAAO,GAAG,UAAU,GAAE,QAAQ,EAAE;MAAEc,IAAI,EAAEA,IAAI;MAAEC,EAAE,EAAEA;IAAE,CAAE,CACnF,CAACV,SAAS,CAACY,MAAM,IAAG;MACnB,IAAI,CAACV,SAAS,GAAGU,MAAM;IACzB,CAAC,EAAEC,KAAK,IAAIT,OAAO,CAACS,KAAK,CAACA,KAAK,CAAC,CAAC;IAEnC,OAAO,IAAI,CAACX,SAAS;EACvB;EAEAY,QAAQ,CAACL,IAAY,EAAEC,EAAU;IAC/B,IAAI,CAAChB,IAAI,CAACiB,IAAI,CAAa,IAAI,CAAChB,OAAO,GAAG,UAAU,GAAG,gBAAgB,EAAE;MAAEc,IAAI,EAAEA,IAAI;MAAEC,EAAE,EAAEA;IAAE,CAAE,CAC9F,CAACV,SAAS,CAACY,MAAM,IAAG;MACnB,IAAI,CAACV,SAAS,GAAGU,MAAM;IACzB,CAAC,EAAEC,KAAK,IAAIT,OAAO,CAACS,KAAK,CAACA,KAAK,CAAC,CAAC;IAEjC,OAAO,IAAI,CAACX,SAAS;EACvB;;AAvDWV,eAAe;mBAAfA,eAAe,0CASY,UAAU;AAAA;AATrCA,eAAe;SAAfA,eAAe;EAAAuB,SAAfvB,eAAe;EAAAwB,YAHF;AAAM","names":["HttpHeaders","EmployeeService","constructor","http","baseUrl","headers","ngOnInit","apiURL","get","subscribe","data","employees","add","console","log","getEmployees","emps","work","days","id","post","result","error","vacation","factory","providedIn"],"sourceRoot":"","sources":["C:\\Users\\Jeremy\\Source\\Repos\\LCVacation\\ClientApp\\src\\app\\employee.service.ts"],"sourcesContent":["import { HttpClient, HttpHeaders } from \"@angular/common/http\";\r\nimport { Inject, NgModule } from \"@angular/core\";\r\nimport { Injectable } from \"@angular/core\";\r\nimport { catchError, Observable } from \"rxjs\";\r\nimport { __values } from \"tslib\";\r\nimport { Employee } from \"./Employee\";\r\n\r\n\r\n@Injectable({ providedIn: 'root' })\r\n\r\n\r\nexport class EmployeeService {\r\n  employees$: Observable<Employee[]>;\r\n  employees: Employee[] = [];\r\n  http: HttpClient;\r\n  baseUrl: string;\r\n  httpOptions = {\r\n     headers: new HttpHeaders({'ContentType': 'application/json'})\r\n  };\r\n\r\n  constructor(http: HttpClient, @Inject('BASE_URL') baseUrl: string) {\r\n    this.http = http;\r\n    this.baseUrl = baseUrl;\r\n\r\n  }\r\n\r\n  ngOnInit() {\r\n    const apiURL = this.baseUrl + 'Employee';\r\n   this.http\r\n      .get<Employee[]>(apiURL, {})\r\n     .subscribe(data => this.employees = data)\r\n     .add(\r\n       console.log(this.employees)\r\n      );\r\n  }\r\n\r\n  getEmployees(): Employee[] {\r\n    \r\n    const apiURL = this.baseUrl + 'Employee';\r\n    return  this.http.get<Employee[]>(apiURL).subscribe((emps: Employee[]) => {\r\n      console.log(emps);\r\n      this.employees = emps;\r\n      return this.employees;\r\n    });\r\n    \r\n\r\n  }\r\n\r\n  \r\n\r\n  work(days: number, id: number) {\r\n    this.http.post<Employee[]>(this.baseUrl + 'Employee'+ '\\\\Work', { days: days, id: id }\r\n      ).subscribe(result => {\r\n        this.employees = result;\r\n      }, error => console.error(error));\r\n\r\n    return this.employees;\r\n  }\r\n\r\n  vacation(days: number, id: number) {\r\n    this.http.post<Employee[]>(this.baseUrl + 'Employee' + '\\\\TakeVacation', { days: days, id: id }\r\n    ).subscribe(result => {\r\n      this.employees = result;\r\n    }, error => console.error(error));\r\n\r\n    return this.employees;\r\n  }\r\n\r\n}\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}